import"../chunks/DsnmJJEf.js";import"../chunks/BrdgULFp.js";import{aa as F,u as v,_ as O,f as L,a0 as T,a as x,a1 as S,Y as d,X as u,Z as f,V as y}from"../chunks/DvUQz0Y7.js";import{s as q}from"../chunks/xGZhe4_6.js";import{i as k}from"../chunks/C7qaBKy1.js";import{r as H,a as C,b as A}from"../chunks/O3kjM3CP.js";import{i as N}from"../chunks/B4YSlRxu.js";import{p as P}from"../chunks/o1uKxVpW.js";import{i as R,a as U,b as j,c as z}from"../chunks/Df7gEO2q.js";function J(a,o,e){F(()=>{var i=v(()=>o(a,e?.())||{});if(i?.destroy)return()=>i.destroy()})}function V(a){const o=JSON.parse(a);return o.data&&(o.data=j(o.data,z.decoders)),o}function E(a){return HTMLElement.prototype.cloneNode.call(a)}function X(a,o=()=>{}){const e=async({action:r,result:l,reset:n=!0,invalidateAll:s=!0})=>{l.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(a),s&&await R()),(location.origin+location.pathname===r.origin+r.pathname||l.type==="redirect"||l.type==="error")&&await U(l)};async function i(r){if((r.submitter?.hasAttribute("formmethod")?r.submitter.formMethod:E(a).method)!=="post")return;r.preventDefault();const n=new URL(r.submitter?.hasAttribute("formaction")?r.submitter.formAction:E(a).action),s=r.submitter?.hasAttribute("formenctype")?r.submitter.formEnctype:E(a).enctype,c=new FormData(a),b=r.submitter?.getAttribute("name");b&&c.append(b,r.submitter?.getAttribute("value")??"");const h=new AbortController;let w=!1;const g=await o({action:n,cancel:()=>w=!0,controller:h,formData:c,formElement:a,submitter:r.submitter})??e;if(w)return;let m;try{const t=new Headers({accept:"application/json","x-sveltekit-action":"true"});s!=="multipart/form-data"&&t.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(s)?s:"application/x-www-form-urlencoded");const p=s==="multipart/form-data"?c:new URLSearchParams(c),_=await fetch(n,{method:"POST",headers:t,cache:"no-store",body:p,signal:h.signal});m=V(await _.text()),m.type==="error"&&(m.status=_.status)}catch(t){if(t?.name==="AbortError")return;m={type:"error",error:t}}await g({action:n,formData:c,formElement:a,update:t=>e({action:n,result:m,reset:t?.reset,invalidateAll:t?.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",i),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",i)}}}var Y=L('<div class="col-12"><div class="alert alert-danger mt-2"> </div></div>'),Z=L('<div class="col-12"><div class="alert alert-success mt-2">Merci ! On te répond très vite.</div></div>'),B=L('<section class="container py-5"><h1 class="h3 mb-4">Contact</h1> <form method="POST" class="row g-3"><div class="col-md-6"><label class="form-label" for="name">Nom</label> <input id="name" name="name" class="form-control" required autocomplete="name"/></div> <div class="col-md-6"><label class="form-label" for="email">Email</label> <input id="email" type="email" name="email" class="form-control" required autocomplete="email"/></div> <div class="col-12"><label class="form-label" for="message">Message</label> <textarea id="message" name="message" rows="5" class="form-control" required></textarea></div> <input type="text" name="website" class="d-none" tabindex="-1" autocomplete="off"/> <div class="col-12"><button class="btn btn-primary" type="submit">Envoyer</button></div> <!> <!></form></section>');function rt(a,o){O(o,!1);let e=P(o,"form",8);N();var i=B(),r=d(u(i),2),l=u(r),n=d(u(l),2);H(n),f(l);var s=d(l,2),c=d(u(s),2);H(c),f(s);var b=d(s,2),h=d(u(b),2);C(h),f(b);var w=d(b,6);{var M=t=>{var p=Y(),_=u(p),D=u(_,!0);f(_),f(p),T(()=>q(D,(y(e()),v(()=>e().error)))),x(t,p)};k(w,t=>{y(e()),v(()=>e()?.error)&&t(M)})}var g=d(w,2);{var m=t=>{var p=Z();x(t,p)};k(g,t=>{y(e()),v(()=>e()?.success)&&t(m)})}f(r),J(r,t=>X?.(t)),f(i),T(()=>{A(n,(y(e()),v(()=>e()?.values?.name??""))),A(c,(y(e()),v(()=>e()?.values?.email??""))),A(h,(y(e()),v(()=>e()?.values?.message??"")))}),x(a,i),S()}export{rt as component};
